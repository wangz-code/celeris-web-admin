var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(a,r,l)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l;import{d as i,r as t,R as u,N as p,a3 as d,Q as c,u as m,af as g,U as f,k as v,a6 as w}from"./vue-EUX_yFNd.js";import{u as b,c as h}from"./index-C0b3zp8b.js";import{ao as y,aJ as P,aK as k,ap as j,ae as O,aM as _}from"./celerisComponents-DDKyWJ2G.js";const x={class:"flex flex-col items-end"},M={class:"w-full"},U=i({__name:"SignUp",setup(e){const{t:i}=b(),U=t(null),z=t({username:"kirklin",password:"123456",confirmPassword:"123456"}),K=y(),q=t(!1),S=P(),B={username:[{required:!0,trigger:["blur"],message:i("page.login.form.username.error")}],password:[{required:!0,trigger:["blur"],message:i("page.login.form.password.error")}],confirmPassword:[{required:!0,trigger:["blur"],message:i("page.login.form.confirmPassword.error")},{validator:(e,a)=>a===z.value.password,message:i("page.login.form.confirmPassword.validator"),trigger:["blur","password-input"]}]};function C(e){var t;e.preventDefault(),q.value=!0,null==(t=U.value)||t.validate((t=>{return u=this,p=null,d=function*(){if(t)q.value=!1,K.error("Invalid credentials");else{const t=yield h().login((e=((e,a)=>{for(var r in a||(a={}))o.call(a,r)&&n(e,r,a[r]);if(l)for(var r of l(a))s.call(a,r)&&n(e,r,a[r]);return e})({},{username:"kirklin",password:"123456"}),u={remember:!0,errorMessageMode:"none"},a(e,r(u))));t&&(q.value=!1,S.success({title:i("page.login.notification.loginSuccessMessage"),content:i("page.login.notification.welcomeBackMessage",{username:t.fullName})}))}var e,u},new Promise(((a,r)=>{var l=a=>{try{s(d.next(a))}catch(e){r(e)}},o=a=>{try{s(d.throw(a))}catch(e){r(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,o);s((d=d.apply(u,p)).next())}));var u,p,d}))}return(e,a)=>(u(),p(m(_),{ref_key:"formRef",ref:U,model:z.value,rules:B},{default:d((()=>[c(m(k),{path:"username",label:m(i)("page.login.form.username.label")},{default:d((()=>[c(m(j),{value:z.value.username,"onUpdate:value":a[0]||(a[0]=e=>z.value.username=e),size:"large",placeholder:m(i)("page.login.form.username.placeholder"),onKeydown:g(C,["enter"])},null,8,["value","placeholder"])])),_:1},8,["label"]),c(m(k),{path:"password",label:m(i)("page.login.form.password.label")},{default:d((()=>[c(m(j),{value:z.value.password,"onUpdate:value":a[1]||(a[1]=e=>z.value.password=e),type:"password",size:"large","show-password-on":"click",placeholder:m(i)("page.login.form.password.placeholder"),onKeydown:g(C,["enter"])},null,8,["value","placeholder"])])),_:1},8,["label"]),c(m(k),{path:"confirmPassword",label:m(i)("page.login.form.confirmPassword.label"),first:""},{default:d((()=>[c(m(j),{value:z.value.confirmPassword,"onUpdate:value":a[2]||(a[2]=e=>z.value.confirmPassword=e),type:"password",disabled:!z.value.password,size:"large","show-password-on":"click",placeholder:m(i)("page.login.form.confirmPassword.placeholder"),onKeydown:g(C,["enter"])},null,8,["value","disabled","placeholder"])])),_:1},8,["label"]),f("div",x,[f("div",M,[c(m(O),{type:"primary",loading:q.value,class:"!w-full",size:"large",onClick:C},{default:d((()=>[v(w(m(i)("page.login.form.registerButton")),1)])),_:1},8,["loading"])])])])),_:1},8,["model"]))}});export{U as _};
